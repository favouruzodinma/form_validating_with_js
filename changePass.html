<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Password</title>
    <link rel="stylesheet" href="form.css">
</head>
<body>
    <main>
        <div class="formDiv">
            <form name="form">
                <h3 style="text-align: center">CHange Password</h3>
                <div>
                    <label>New Password:</label><br />
                    <input class="input" type="password" id="newPassword" />
                    <small id="newPassword" style="display: none; color: red">Password must be up to 8
                        characters</small>
                </div>
                <div>
                    <label>Comfrim Password:</label><br />
                    <input class="input" type="password" id="confirmPassword" />
                    <small id="confirmPassword" style="display: none; color: red">Password must be up to 8
                        characters</small>
                </div>
                <button onclick="click" id="button">Save</button>
                     <p id="exists" style="color: red; display: none">
                    Password And confirm Password doesn't Match
                  </p>
                 <div style="display: flex;">
                    <p style="text-align: left; padding-right: 55px;">
                        Forgotten Pwd? <a href="forgottenpsw.html">Forgotten Pwd</a>
                     </p>
                    <p style="text-align: right">
                       Not My account <a href="login.html">Login</a>
                    </p>
                 </div>
            </form>
        </div>
    </main>


    <script>
        let button = document.getElementById("button");

        button.addEventListener("click", function (e) {
        e.preventDefault();
        let newPassword = document.getElementById("newPassword");
        let confirmPassword = document.getElementById("confirmPassword");
        let exists = document.getElementById("exists");

        let storedPassword = localStorage.getItem("password");

            if(newPassword.value !== confirmPassword.value){
                exists.style.display ="block"
                newPassword.style.border = "1px solid red";
                confirmPassword.style.border = "1px solid red";
            }else{
               if(newPassword.value === confirmPassword.value){
                localStorage.setItem('password', newPassword.value);
                setTimeout(() => {
                window.location.replace("http://127.0.0.1:5501/index/home.html");
            }, 3000);
               }
            }
            console.log(newPassword.value);
            console.log(confirmPassword.value);
        // if (userEmail !== email.value && userPassword !== password.value) {
        //     //   alert("Email or password is not correct");
        //     error.style.display ="block"
        //     email.style.border = "1px solid red";
        //     password.style.border = "1px solid red";
        //     setTimeout(() => {
        //         email.style.border = "1px solid black";
        //         password.style.border = "1px solid black";
        //     }, 5000);
        // } else {
           
        // }
        });
    </script>
</body>
</html>